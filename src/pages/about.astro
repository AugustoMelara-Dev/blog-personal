---
import BaseLayout from "../layouts/BaseLayout.astro";
import AnimatedPost from "../components/AnimatedPost.tsx";
import Icon from "../components/icons/Icon.tsx";
import { getCollection } from "astro:content";

const allPosts = (await getCollection("posts")).filter(
  (post) => !post.data.draft,
);
const allFrases = await getCollection("frases");
---

<BaseLayout title="Sobre mí">
  <article class="px-6 py-16 md:py-24 max-w-5xl mx-auto">
    <!-- HERO -->
    <AnimatedPost client:load index={0}>
      <div class="mb-16">
        <p
          class="text-xs text-[#525252] uppercase tracking-[0.3em] font-medium mb-8"
        >
          Sobre VitoCipher
        </p>
        <h1 class="text-[clamp(3rem,8vw,6rem)] leading-[1.1] tracking-tight">
          <span class="block text-[#525252] font-light">Escribo lo que</span>
          <span class="block text-[#f5f5f5] font-bold">otros piensan.</span>
        </h1>
      </div>
    </AnimatedPost>

    <!-- NÚMEROS -->
    <AnimatedPost client:load index={1}>
      <div
        class="flex flex-wrap items-center gap-3 text-sm text-[#525252] mb-16"
      >
        <span>{allPosts.length} posts publicados</span>
        <span class="text-[#1f1f1f]">·</span>
        <span>{allFrases.length} frases</span>
        <span class="text-[#1f1f1f]">·</span>
        <span>Actualizado hoy</span>
      </div>
    </AnimatedPost>

    <!-- SOBRE VITOCIPHER -->
    <AnimatedPost client:load index={2}>
      <div class="mb-24">
        <h2 class="text-sm uppercase tracking-widest text-[#525252] mb-8">
          Sobre VitoCipher
        </h2>
        <div class="prose prose-lg prose-invert max-w-none text-[#a3a3a3]">
          <p>
            El código hace exactamente lo que le pides. Las personas nunca lo
            hacen.
          </p>
          <p>
            Cuando te dedicas a construir sistemas desde cero terminas
            descubriendo algo bastante crudo. Las cosas casi nunca fallan por la
            tecnología. Las estructuras reales colapsan por la naturaleza humana
            y por las intenciones que nadie dice en voz alta.
          </p>
          <p>
            VitoCipher es mi archivo personal. Un rincón silencioso donde me
            siento a estudiar el tablero antes de tocar una sola pieza. Entender
            cómo funciona el poder y la estrategia no tiene nada que ver con el
            ego. Es una cuestión de discernimiento y supervivencia. Es aprender
            a leer la historia y las motivaciones ocultas de la gente para poder
            avanzar sin que el entorno te termine tragando.
          </p>
          <p>
            Aquí no escribo para agradar ni para dar frases de motivación. Es
            simplemente el registro de alguien que programa máquinas pero sabe
            que el verdadero enigma siempre ha sido descifrar a las personas.
            Todo basado en principios muy antiguos que siguen dictando las
            reglas del juego.
          </p>
          <p>Bienvenido a la caja negra.</p>
        </div>
      </div>
    </AnimatedPost>

    <!-- SOBRE QUÉ ESCRIBO -->
    <AnimatedPost client:load index={3}>
      <div>
        <h2 class="text-sm uppercase tracking-widest text-[#525252] mb-8">
          Sobre qué escribo
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div class="bg-[#111111] border border-[#1f1f1f] rounded-lg p-6">
            <div class="mb-4">
              <Icon name="Brain" size={32} color="#a3e635" client:load />
            </div>
            <h3 class="text-xl font-bold text-[#f5f5f5] mb-2">Reflexiones</h3>
            <p class="text-[#a3a3a3]">
              Comportamiento humano. Lo que hacemos vs lo que decimos.
            </p>
          </div>
          <div class="bg-[#111111] border border-[#1f1f1f] rounded-lg p-6">
            <div class="mb-4">
              <Icon name="BookOpen" size={32} color="#a3e635" client:load />
            </div>
            <h3 class="text-xl font-bold text-[#f5f5f5] mb-2">Biblia</h3>
            <p class="text-[#a3a3a3]">
              Personajes reales con decisiones eternas. Sin sermones.
            </p>
          </div>
          <div class="bg-[#111111] border border-[#1f1f1f] rounded-lg p-6">
            <div class="mb-4">
              <Icon name="Crown" size={32} color="#a3e635" client:load />
            </div>
            <h3 class="text-xl font-bold text-[#f5f5f5] mb-2">Poder</h3>
            <p class="text-[#a3a3a3]">
              Dinámicas sociales. Quién tiene el poder y cómo lo usa.
            </p>
          </div>
        </div>
      </div>
    </AnimatedPost>
  </article>
</BaseLayout>
