import{j as e}from"./jsx-runtime.TBa3i5EZ.js";import{r as i}from"./index.CVf8TyFT.js";function b({isMobile:c=!1}){const[l,d]=i.useState([]),[x,m]=i.useState("");i.useEffect(()=>{const t=Array.from(document.querySelectorAll(".prose h2, .prose h3")),s=t.map(n=>(n.id||(n.id=n.textContent?.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]/g,"")||""),{id:n.id,text:n.textContent||"",level:n.tagName==="H2"?2:3}));d(s);const o=new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting&&m(r.target.id)})},{rootMargin:"0px 0px -80% 0px"});return t.forEach(n=>o.observe(n)),()=>o.disconnect()},[]);const f=(t,s)=>{t.preventDefault();const o=document.getElementById(s);if(o){const r=document.body.getBoundingClientRect().top,p=o.getBoundingClientRect().top-r-100;window.scrollTo({top:p,behavior:"smooth"}),history.pushState(null,"",`#${s}`)}};if(l.length===0)return null;const a=e.jsxs("nav",{className:"text-sm",children:[e.jsx("h3",{className:"text-xs uppercase tracking-widest text-[#525252] mb-4 font-semibold",children:"Contenido"}),e.jsx("ul",{className:"space-y-2.5",children:l.map(t=>e.jsx("li",{className:t.level===3?"pl-3":"",children:e.jsx("a",{href:`#${t.id}`,onClick:s=>f(s,t.id),className:`block transition-colors duration-150 pl-3 border-l-2 ${x===t.id?"border-lime-400 text-lime-400":"border-transparent text-[#737373] hover:text-[#f5f5f5]"}`,children:t.text})},t.id))})]});return c?e.jsxs("details",{className:"bg-[#111111] border border-[#1f1f1f] rounded-lg p-4 group",children:[e.jsxs("summary",{className:"text-[#a3a3a3] cursor-pointer font-medium outline-none list-none flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm uppercase tracking-widest font-semibold flex items-center gap-2",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),e.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),e.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),e.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),e.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),e.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]}),"Tabla de Contenidos"]}),e.jsx("svg",{className:"transform group-open:rotate-180 transition-transform duration-200",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-[#1f1f1f]",children:a})]}):a}export{b as default};
